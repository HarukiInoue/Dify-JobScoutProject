# ES添削エージェント v2
[](
//[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
)
## 概要

**ES添削エージェント v2** は、Difyで構築された、エントリーシート（ES）を多角的に分析し、改善点をフィードバックするためのAIアプリケーションです。

就職活動中の学生が、より魅力的で論理的なESを作成できるよう支援することを目的としています。ユーザーが入力したESに対し、3つの異なる専門家AI（企業アナリスト、ライティングコーチ、採用担当者）がそれぞれの視点から評価を行い、それらを統合した具体的なフィードバックを提供します。

## 主な機能

このエージェントは、以下の3つの専門的な役割を持つAIによってESを分析します。

1.  **企業アナリスト (Company Analyst)**
    * 応募先の企業理念や事業内容を分析し、企業が求める人物像とESの内容がどれだけマッチしているかを評価します。

2.  **ライティングコーチ (Logic Coach)**
    * 「結論ファースト」や「STARメソッド」といったフレームワークに基づき、文章の論理構成、構造、表現の的確さを評価します。

3.  **採用担当者 (Appeal Consultant)**
    * 「この学生に会ってみたいか」という観点から、エピソードの具体性、独自性、熱意などを評価します。

これらの分析を統合し、ユーザーは「最大の強み」と「最優先で改善すべき点」を明確に把握できます。

## セットアップ方法

このアプリケーションは、Difyプラットフォーム上で利用できます。

1.  お使いのDify環境にログインします。
2.  「スタジオ」から「アプリを作成」を選択します。
3.  「テンプレートから作成」をクリックします。
4.  このリポジトリにある `ES添削エージェントv2.yml` ファイルをアップロードすると、アプリケーションがセットアップされます。

**注意**: このエージェントはOpenAIのGPT-4oモデルなどを利用します。利用にあたっては、Difyにご自身のOpenAI APIキーを設定してください。

## 処理フロー

このエージェントは、ユーザーとの対話が初回か2回目以降かで処理を切り替える、段階的な分析ワークフローを採用しています。

### ワークフロー図

```mermaid
graph TD
    subgraph "ステップ1：初期入力"
        A[開始<br>ユーザーがESと企業名を入力] --> B{初回対話か？};
    end

    subgraph "ステップ2：初回分析 (3つの専門家AIが並列処理)"
        B -- Yes --> C[パラメータ抽出<br>ES情報/企業名を整理];
        C --> D["2A: 企業アナリスト<br>(企業との相性を分析)"];
        C --> E["2B: ライティングコーチ<br>(文章の論理構成を評価)"];
        C --> F["2C: 採用担当者<br>(訴求力・熱意を評価)"];
    end

    subgraph "ステップ3：フィードバック統合と提示"
        D --> G[変数代入];
        E --> G;
        F --> G;
        G --> H[分析・統合<br>3つの評価を1つに要約];
        H --> I[中間レポート生成<br>フィードバックと改善を促す質問を作成];
        I --> J[回答<br>ユーザーに中間レポートを提示];
    end

    subgraph "ステップ4：修正・再評価ループ"
        B -- No --> K[修正ループ<br>前回のFBとユーザーの指示を基に<br>ESを再評価・リライト];
        K --> L[回答<br>改善案や再評価結果を提示];
    end

    style A fill:#E4FBCC,stroke:#333,stroke-width:2px
    style J fill:#CCEEFF,stroke:#333,stroke-width:2px
    style L fill:#CCEEFF,stroke:#333,stroke-width:2px
